# [04.09] 게시글 매칭 AI Spark 분산처리

### 04.07: clip_hadoop_sql_all
- 끊겼던 게시글 임베딩 생성 재시작 할 때 처음 create_url로 했었는데 중복 없이 다시 진행하려고 하니까 처음 사용했던 create_url은 서버 오류가 발생
- url을 아래 create_url로 변경해줌
```python
# 파일 생성 URL
# 처음 임베딩 생성 시작할때는 아래 코드로 했었음
# create_url = f"http://{self.host}:{self.port}/webhdfs/v1{file_path}?op=CREATE&user.name={self.user}&overwrite=true"
# 중간부터 시작할때는 아래 코드로 하니까 됨
create_url = f"{self.host}:{self.port}/webhdfs/v1{file_path}?op=CREATE&user.name={self.user}&overwrite=true"
```

- 실행방법
    - 해당 폴더로 들어가 터미널 두 개 열고 하나는 python main.py로 서버 켜고 하나는 아래 코드로

```
python -m utils.process_embeddings --host=j12c105.p.ssafy.io --port=3306 --user=ssafy --password='tnatnavkdlsejssafyc!)%' --database=ssfinder --api-url=http://localhost:5000 --process-all
```