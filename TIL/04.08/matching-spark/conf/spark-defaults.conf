# Spark 구성 파일
# /conf 디렉토리에 저장하세요

# 애플리케이션 이름
spark.app.name                  LostFoundSimilarityEngine

# 메모리 설정
spark.executor.memory           4g
spark.driver.memory             2g
spark.driver.maxResultSize      2g

# 코어 설정
spark.executor.cores            2
spark.task.cpus                 1

# 셔플 설정
spark.shuffle.service.enabled   true
spark.dynamicAllocation.enabled true
spark.shuffle.compress          true
spark.shuffle.spill.compress    true
spark.shuffle.file.buffer       64k
spark.shuffle.partitions        100

# 직렬화 설정
spark.serializer                org.apache.spark.serializer.KryoSerializer
spark.kryoserializer.buffer.max 512m
spark.kryo.registrationRequired false

# SQL 설정
spark.sql.adaptive.enabled      true
spark.sql.adaptive.skewJoin.enabled true
spark.sql.adaptive.coalescePartitions.enabled true
spark.sql.broadcastTimeout      300

# 네트워크 설정
spark.network.timeout           120s
spark.executor.heartbeatInterval 30s

# 메모리 관리
spark.memory.fraction           0.8
spark.memory.storageFraction    0.3

# 하둡 통합 설정
spark.hadoop.dfs.replication    3

# 로깅 설정
spark.eventLog.enabled          true
spark.eventLog.dir              hdfs:///spark-logs